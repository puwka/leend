# –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä REG.RU

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –æ–±–ª–∞—á–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ REG.RU.

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ

–°—É–¥—è –ø–æ —Å–∫—Ä–∏–Ω—à–æ—Ç—É:
- **–û–°:** Ubuntu 24.04 LTS
- **–ü—É–±–ª–∏—á–Ω—ã–π IP:** 130.49.148.108
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 vCPU, 1 –ì–ë RAM, 10 –ì–ë –¥–∏—Å–∫
- **–¢–∞—Ä–∏—Ñ:** HP C1-M1-D10

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü—Ä–∏ 1 –ì–ë RAM –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å swap-—Ñ–∞–π–ª.

---

## üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd C:\Users\maks\Desktop\leend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–±–æ—Ä–∫—É
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—Å–∫
npm start
```

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.

### –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –ø—Ä–æ–µ–∫—Ç–∞ (–∏—Å–∫–ª—é—á–∞—è –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã):

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ PowerShell (Windows)**

```powershell
# –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤, –∏—Å–∫–ª—é—á–∞—è node_modules, .next, .git
Compress-Archive -Path * -DestinationPath leend.zip -Exclude @('node_modules', '.next', '.git', '*.log')
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ 7-Zip (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ 7-Zip –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –í—ã–¥–µ–ª–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
3. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí "7-Zip" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤..."
4. –ù–∞–∑–æ–≤–∏—Ç–µ `leend.7z`
5. –ò—Å–∫–ª—é—á–∏—Ç–µ: `node_modules`, `.next`, `.git`, `*.log`
6. –í—ã–±–µ—Ä–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ

**–í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ Git (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)**

–ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git clone` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—Å–º. –Ω–∏–∂–µ).

---

## üñ•Ô∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É REG.RU

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ SSH

1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç REG.RU
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã"
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä (130.49.148.108)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - –õ–æ–≥–∏–Ω (–æ–±—ã—á–Ω–æ `root` –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
   - –ü–∞—Ä–æ–ª—å –∏–ª–∏ SSH-–∫–ª—é—á

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SSH

**Windows (PowerShell –∏–ª–∏ Command Prompt):**

```bash
ssh –ª–æ–≥–∏–Ω@130.49.148.108
```

–ò–ª–∏ —á–µ—Ä–µ–∑ PuTTY:
- Host: `130.49.148.108`
- Port: `22`
- Protocol: `SSH`

**–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
pwd

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–∞–≤ sudo (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo -v
```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
sudo apt update

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)
sudo apt upgrade -y
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

**–í–∞—Ä–∏–∞–Ω—Ç A: –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ sudo (VPS)**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20.x (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Next.js 16)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
node -v  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
npm -v
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ë–µ–∑ –ø—Ä–∞–≤ sudo (—á–µ—Ä–µ–∑ NVM - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞)**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NVM (Node Version Manager)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# –î–æ–±–∞–≤—å—Ç–µ –≤ ~/.bashrc –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:
echo 'export NVM_DIR="$HOME/.nvm"' >> ~/.bashrc
echo '[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"' >> ~/.bashrc
echo '[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"' >> ~/.bashrc

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ NVM —Å–Ω–æ–≤–∞
source ~/.bashrc

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20
nvm install 20
nvm use 20
nvm alias default 20

# –ü—Ä–æ–≤–µ—Ä–∫–∞
node -v  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
npm -v
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å sudo
sudo npm install -g pm2

# –ï—Å–ª–∏ –Ω–µ—Ç sudo (—á–µ—Ä–µ–∑ NVM)
npm install -g pm2

# –ü—Ä–æ–≤–µ—Ä–∫–∞
pm2 -v
```

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx (–¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
sudo apt install nginx -y

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status nginx

# –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl enable nginx
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ sudo, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –ø–æ—Ä—Ç—É 3000, –Ω–æ Nginx —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω –¥–ª—è production.

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ swap-—Ñ–∞–π–ª–∞ (–í–ê–ñ–ù–û –¥–ª—è 1 –ì–ë RAM)

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, —Å–æ–∑–¥–∞–π—Ç–µ swap:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –ø–∞–º—è—Ç—å
free -h

# –°–æ–∑–¥–∞–Ω–∏–µ swap-—Ñ–∞–π–ª–∞ 2GB (—Å sudo)
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# –°–¥–µ–ª–∞–π—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
free -h
```

**–ë–µ–∑ sudo:**

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ swap –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
dd if=/dev/zero of=~/swapfile bs=1M count=2048
chmod 600 ~/swapfile
mkswap ~/swapfile
swapon ~/swapfile

# –ü—Ä–æ–≤–µ—Ä–∫–∞
free -h
```

---

## üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

–û–±—ã—á–Ω–æ —Ñ–∞–π–ª—ã —Å–∞–π—Ç–∞ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤:
- `/var/www/uXXXXXX/data/` (–≥–¥–µ XXXXXX - –≤–∞—à ID)
- `/home/uXXXXXX/domains/–≤–∞—à-–¥–æ–º–µ–Ω.ru/public_html/`
- –ò–ª–∏ –¥—Ä—É–≥–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–º—É —Ç–∞—Ä–∏—Ñ—É

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
pwd

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
mkdir -p ~/leend
cd ~/leend

# –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/u3367936/data  # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –ø—É—Ç—å
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
sudo apt install git -y

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/–≤–∞—à-username/–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git leend
cd leend
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ SFTP (FileZilla, WinSCP)**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FileZilla –∏–ª–∏ WinSCP
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:
   - Host: `130.49.148.108`
   - Protocol: `SFTP`
   - Username: –≤–∞—à –ª–æ–≥–∏–Ω
   - Password: –≤–∞—à –ø–∞—Ä–æ–ª—å
   - Port: `22`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω—É–∂–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/var/www/u3367936/data`)
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ `leend.zip` –∏–ª–∏ `leend.7z`
5. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /var/www/u3367936/data  # –∏–ª–∏ –≤–∞—à –ø—É—Ç—å

# –î–ª—è .zip
unzip leend.zip -d leend

# –î–ª—è .7z (–Ω—É–∂–µ–Ω p7zip: sudo apt install p7zip-full)
7z x leend.7z -o leend

# –î–ª—è .tar.gz
tar -xzf leend.tar.gz -C leend

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd leend
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ SCP (–∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)**

–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (PowerShell):

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r C:\Users\maks\Desktop\leend\* –ª–æ–≥–∏–Ω@130.49.148.108:/var/www/u3367936/data/leend/
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤
ls -la

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã:
# - package.json
# - next.config.ts
# - src/
# - public/
# - –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env.local

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env.local
nano .env.local
```

### –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è):

```env
# Supabase (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# URL —Å–∞–π—Ç–∞
NEXT_PUBLIC_SITE_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV=production

# Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ Supabase:**
1. –í–æ–π–¥–∏—Ç–µ –≤ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí API
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - Project URL ‚Üí `NEXT_PUBLIC_SUPABASE_URL`
   - anon public key ‚Üí `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - service_role secret key ‚Üí `SUPABASE_SERVICE_ROLE_KEY`

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ nano:**
- `Ctrl+O` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- `Enter` - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞
- `Ctrl+X` - –≤—ã–π—Ç–∏

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏)

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Node.js (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NVM)
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use 20

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
npm cache clean --force

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (production)
npm install --production

# –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
NODE_OPTIONS="--max-old-space-size=2048" npm install --production
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è 1 –ì–ë RAM)

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:**

```bash
cd C:\Users\maks\Desktop\leend

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è Node.js —Å–æ–≤–ø–∞–¥–∞–µ—Ç (20.x)
node -v

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ node_modules
# –ß–µ—Ä–µ–∑ 7-Zip: –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ node_modules ‚Üí 7-Zip ‚Üí –î–æ–±–∞–≤–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
# –ù–∞–∑–æ–≤–∏—Ç–µ node_modules.7z
```

**–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SFTP –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ:**

```bash
cd /var/www/u3367936/data/leend  # –≤–∞—à –ø—É—Ç—å

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ (–µ—Å–ª–∏ –µ—Å—Ç—å p7zip)
7z x node_modules.7z

# –ò–ª–∏ —á–µ—Ä–µ–∑ zip
unzip node_modules.zip
```

---

## üî® –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–±–æ—Ä–∫–µ

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
pwd

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Node.js
node -v  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NVM, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use 20
```

### –®–∞–≥ 2: –°–±–æ—Ä–∫–∞

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–±–æ—Ä–∫–∞:**

```bash
npm run build
```

**–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é (1 –ì–ë RAM):**

```bash
# –°–±–æ—Ä–∫–∞ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º –ª–∏–º–∏—Ç–æ–º –ø–∞–º—è—Ç–∏
NODE_OPTIONS="--max-old-space-size=2048" npm run build

# –ò–ª–∏ —Å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
NODE_OPTIONS="--max-old-space-size=2048" NEXT_TELEMETRY_DISABLED=1 npm run build
```

**–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–∞–¥–∞–µ—Ç:**

1. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É `.next` –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SFTP
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ production –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install --production`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
ls -la .next

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–∞–ø–∫–∏: static, server, –∏ –¥—Ä—É–≥–∏–µ
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ PM2

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ecosystem.config.js

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano ecosystem.config.js
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å `cwd` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

```javascript
cwd: '/var/www/u3367936/data/leend', // –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å
```

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Ç–æ—á–Ω—ã–π –ø—É—Ç—å:
```bash
pwd
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NVM –±–µ–∑ sudo, –¥–æ–±–∞–≤—å—Ç–µ –≤ ecosystem.config.js:**

```javascript
module.exports = {
  apps: [
    {
      name: 'leend',
      script: 'npm',
      args: 'start',
      cwd: '/var/www/u3367936/data/leend', // –≤–∞—à –ø—É—Ç—å
      interpreter: '/bin/bash',
      interpreter_args: '-c "source ~/.nvm/nvm.sh && nvm use 20 && npm start"',
      env: {
        NODE_ENV: 'production',
        PORT: 3000,
      },
      error_file: './logs/err.log',
      out_file: './logs/out.log',
      log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
      merge_logs: true,
      autorestart: true,
      max_memory_restart: '800M', // –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å 1 –ì–ë RAM
      watch: false,
      ignore_watch: ['node_modules', '.next', 'logs'],
    },
  ],
};
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤

```bash
mkdir -p logs
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NVM, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use 20

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 start ecosystem.config.js

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ PM2
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
pm2 startup

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç pm2 startup
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs leend

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs leend --lines 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit
```

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç
curl http://localhost:3000

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://130.49.148.108:3000
```

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nano /etc/nginx/sites-available/leend
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–∑–∞–º–µ–Ω–∏—Ç–µ `your-domain.ru` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω):

```nginx
server {
    listen 80;
    server_name your-domain.ru www.your-domain.ru;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/leend-access.log;
    error_log /var/log/nginx/leend-error.log;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ Next.js
    location /_next/static {
        proxy_pass http://localhost:3000;
        proxy_cache_valid 200 60m;
        add_header Cache-Control "public, immutable";
    }
}
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### –®–∞–≥ 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
sudo ln -s /etc/nginx/sites-available/leend /etc/nginx/sites-enabled/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ –æ—à–∏–±–∫–∏
sudo nginx -t

# –ï—Å–ª–∏ –≤—Å–µ –û–ö, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo systemctl reload nginx
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –≤ REG.RU

1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç REG.RU
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ú–æ–∏ –¥–æ–º–µ–Ω—ã"
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏:
   - **A-–∑–∞–ø–∏—Å—å:** `@` ‚Üí `130.49.148.108`
   - **A-–∑–∞–ø–∏—Å—å:** `www` ‚Üí `130.49.148.108`

---

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

### –í–∞—Ä–∏–∞–Ω—Ç 1: Let's Encrypt (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install certbot python3-certbot-nginx -y

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d your-domain.ru -d www.your-domain.ru

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# - –í–≤–µ–¥–∏—Ç–µ email
# - –°–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏
# - –í—ã–±–µ—Ä–∏—Ç–µ, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏ HTTP –Ω–∞ HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 2)
```

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 2: SSL –æ—Ç REG.RU

1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ REG.RU –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª SSL
2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –ø—Ä–∏–æ–±—Ä–µ—Ç–∏—Ç–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º REG.RU –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
sudo certbot certificates

# –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot renew --dry-run
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - `http://your-domain.ru` (–∏–ª–∏ `https://` –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSL)
   - `http://130.49.148.108:3000` (–Ω–∞–ø—Ä—è–º—É—é)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
   - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
   - `/admin` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
   - `/privacy` - –ø–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
   - `/offer` - –¥–æ–≥–æ–≤–æ—Ä –æ—Ñ–µ—Ä—Ç—ã

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   pm2 logs leend --lines 50
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   pm2 status
   ```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥:

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh –ª–æ–≥–∏–Ω@130.49.148.108

# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/u3367936/data/leend  # –≤–∞—à –ø—É—Ç—å

# 3. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git:
git pull origin main

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ SFTP

# 4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ NVM
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use 20

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm install --production

# 6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build

# 7. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart leend

# 8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs leend --lines 50
```

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs leend

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–∫
pm2 logs leend --lines 100

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 restart leend

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 stop leend

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 start leend

# –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ PM2
pm2 delete leend

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
pm2 describe leend

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 monit

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
pm2 show leend

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 save

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
pm2 flush
```

---

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
pm2 logs leend --err
cat logs/err.log
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cat .env.local
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 3000 —Å–≤–æ–±–æ–¥–µ–Ω:**
```bash
sudo netstat -tulpn | grep 3000
# –ò–ª–∏
sudo lsof -i :3000
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Node.js:**
```bash
node -v  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

**–û—à–∏–±–∫–∞: "Out of memory"**

1. –°–æ–∑–¥–∞–π—Ç–µ swap (—Å–º. –≤—ã—à–µ)
2. –°–æ–±–µ—Ä–∏—Ç–µ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º –ª–∏–º–∏—Ç–æ–º:
   ```bash
   NODE_OPTIONS="--max-old-space-size=2048" npm run build
   ```
3. –ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ `.next` –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–û—à–∏–±–∫–∞: "SyntaxError: Unexpected token ?"**

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–µ—Ä—Å–∏—è Node.js —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä–∞—è. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 20.x (—Å–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js").

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:**
   ```bash
   nslookup your-domain.ru
   # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∞—à IP: 130.49.148.108
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
   ```bash
   sudo nginx -t
   sudo systemctl status nginx
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx:**
   ```bash
   sudo tail -f /var/log/nginx/leend-error.log
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   curl http://localhost:3000
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   cat .env.local | grep SUPABASE
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –∫–∞–≤—ã—á–µ–∫)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Supabase:
   ```bash
   curl https://your-project.supabase.co
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π –ø–∞–º—è—Ç–∏

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ PM2 –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–∞–º—è—Ç–∏:

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ ecosystem.config.js
nano ecosystem.config.js

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ max_memory_restart: '800M'
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pm2 restart ecosystem.config.js
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REG.RU:** https://www.reg.ru/support/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Next.js:** https://nextjs.org/docs
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PM2:** https://pm2.keymetrics.io/docs/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nginx:** https://nginx.org/ru/docs/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase:** https://supabase.com/docs

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs leend`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É REG.RU —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**

